schema:
  types:
    dcim.site:
      key:
        site:
          type: slug
      fields:
        name:
          type: string
        slug:
          type: slug
    dcim.device:
      key:
        site:
          type: slug
        device:
          type: slug
      fields:
        name:
          type: string
        site:
          type: ref
          target: dcim.site
        role:
          type: string
        device_type:
          type: string
    dcim.interface:
      key:
        device:
          type: slug
        interface:
          type: slug
      fields:
        name:
          type: string
        device:
          type: ref
          target: dcim.device
    ipam.prefix:
      key:
        prefix:
          type: prefix
      fields:
        prefix:
          type: prefix
        site:
          type: ref
          target: dcim.site
    ipam.ip_address:
      key:
        ip:
          type: ip_address
      fields:
        address:
          type: ip_address
        assigned_interface:
          type: ref
          target: dcim.interface
objects:
  - uid: "11111111-1111-1111-1111-111111111111"
    type: dcim.site
    key:
      site: "fra1"
    attrs:
      name: "FRA1"
      slug: "fra1"

  - uid: "22222222-2222-2222-2222-222222222222"
    type: dcim.device
    key:
      site: "fra1"
      device: "leaf01"
    attrs:
      name: "leaf01"
      site: "11111111-1111-1111-1111-111111111111"
      role: "leaf"
      device_type: "leaf-switch"

  - uid: "33333333-3333-3333-3333-333333333333"
    type: dcim.interface
    key:
      device: "leaf01"
      interface: "eth0"
    attrs:
      name: "eth0"
      device: "22222222-2222-2222-2222-222222222222"

  - uid: "44444444-4444-4444-4444-444444444444"
    type: ipam.prefix
    key:
      prefix: "10.0.0.0/24"
    attrs:
      prefix: "10.0.0.0/24"
      site: "11111111-1111-1111-1111-111111111111"

  - uid: "55555555-5555-5555-5555-555555555555"
    type: ipam.ip_address
    key:
      ip: "10.0.0.10/24"
    attrs:
      address: "10.0.0.10/24"
      assigned_interface: "33333333-3333-3333-3333-333333333333"
